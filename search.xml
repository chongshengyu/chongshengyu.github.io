<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Ubuntu Server 16.04配置及相关环境搭建]]></title>
      <url>http://yoursite.com/2017/02/14/Ubuntu-Server-16-04%E9%85%8D%E7%BD%AE%E5%8F%8A%E7%9B%B8%E5%85%B3%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      <content type="html"><![CDATA[<h1 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h1><h2 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo passwd</div></pre></td></tr></table></figure>
<p>之后输入当前用户密码，再设置root用户密码即可。</p>
<h2 id="挂载U盘"><a href="#挂载U盘" class="headerlink" title="挂载U盘"></a>挂载U盘</h2><p>在mnt目录下新建usb目录<br>插入U盘后<code>fdisk -l</code>查看磁盘，找到u盘对应的设备<br><img src="http://7xr4lz.com1.z0.glb.clouddn.com/17-2-14/99041120-file_1487039136432_17d60.png" alt="找到U盘对应的设备"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mount -t vfat /dev/sdb /mnt/usb</div><div class="line">umount /mnt/usb</div></pre></td></tr></table></figure></p>
<p>即可挂载和卸载<br>若挂载报错，可先使用<code>mkfs.vfat -F 32 /dev/sdb</code>命令，将U盘格式化为fat32格式</p>
<h2 id="配置SSH"><a href="#配置SSH" class="headerlink" title="配置SSH"></a>配置SSH</h2><p>更新源列表<code>sudo apt-get update</code><br>安装ssh<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install openssh-server</div></pre></td></tr></table></figure></p>
<p>查看ssh服务是否启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ps -e|grep ssh</div></pre></td></tr></table></figure></p>
<p>若没有启动<code>sudo service ssh start</code><br>修改配置文件<code>sudo vi /etc/ssh/sshd_config</code>可以修改端口号。<br>把配置文件中<code>PermitRootLogin without-password</code>注释掉，增加一行<code>PermitRootLogin no</code>不允许root用户登录</p>
<h2 id="换源"><a href="#换源" class="headerlink" title="换源"></a>换源</h2><p>备份源<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /etc/apt</div><div class="line">cp sources.list sources.list.backup</div></pre></td></tr></table></figure></p>
<p>使用ssh工具将保存新源的文件上传<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial universe</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates universe</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial multiverse</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates multiverse</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security universe</div><div class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security multiverse</div></pre></td></tr></table></figure></p>
<p>复制到sources.list<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo cat sourcesfile &gt; /etc/apt/sources.list</div></pre></td></tr></table></figure></p>
<p>让更新源生效<code>sudo apt-get update</code></p>
<h2 id="JDK安装"><a href="#JDK安装" class="headerlink" title="JDK安装"></a>JDK安装</h2><p>上传安装包<code>jdk-7u79-linux-x64.tar.gz</code><br>在<code>/usr/lib</code>下新建目录<code>java</code>，将安装包解压至此。<br><img src="http://7xr4lz.com1.z0.glb.clouddn.com/17-2-14/39353226-file_1487045859703_f0cc.png" alt=""><br>配置环境变量<code>/etc/profile</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">export JAVA_HOME=/usr/lib/java/jdk1.7.0_79</div><div class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</div><div class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</div><div class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ source /etc/profile</div></pre></td></tr></table></figure>
<p>测试<code>java -version</code>，<code>java</code></p>
<h2 id="单机Spark安装"><a href="#单机Spark安装" class="headerlink" title="单机Spark安装"></a>单机Spark安装</h2><p>上传安装包<code>scala-2.11.8.tgz</code>，<code>spark-2.0.1-bin-hadoop2.7.tgz</code></p>
<h3 id="安装Scala"><a href="#安装Scala" class="headerlink" title="安装Scala"></a>安装Scala</h3><p>在<code>/usr/lib</code>下新建目录<code>scala</code>，将安装包解压至此。<br><img src="http://7xr4lz.com1.z0.glb.clouddn.com/17-2-14/37504481-file_1487046950569_182d5.png" alt=""><br>配置环境变量<code>/etc/profile</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">export SCALA_HOME=/usr/lib/scala/scala-2.11.8</div><div class="line">export PATH=$PATH:$&#123;SCALA_HOME&#125;/bin</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ source /etc/profile</div></pre></td></tr></table></figure>
<p>测试<code>scala</code></p>
<h3 id="配置Spark"><a href="#配置Spark" class="headerlink" title="配置Spark"></a>配置Spark</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo chown -R ubuntu:ubuntu /app</div></pre></td></tr></table></figure>
<p>新建目录<code>/app/spark</code>，将安装包解压至此<br><img src="http://7xr4lz.com1.z0.glb.clouddn.com/17-2-14/72796073-file_1487047603163_5f7d.png" alt=""></p>
<h4 id="配置环境变量-etc-profile"><a href="#配置环境变量-etc-profile" class="headerlink" title="配置环境变量/etc/profile"></a>配置环境变量<code>/etc/profile</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">export SPARK_HOME=/app/spark/spark-2.0.1-bin-hadoop2.7</div><div class="line">export PATH=$&#123;SPARK_HOME&#125;/bin:$PATH</div></pre></td></tr></table></figure>
<h4 id="修改配置文件spark-env-sh"><a href="#修改配置文件spark-env-sh" class="headerlink" title="修改配置文件spark-env.sh"></a>修改配置文件spark-env.sh</h4><p>进入spark安装目录下的<code>conf</code>目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cp spark-env.sh.template  spark-env.sh</div><div class="line">vi  spark-env.sh</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">export SPARK_MASTER_HOST=$YOUR_HOST_NAME</div><div class="line">export JAVA_HOME=$YOUR_JAVA_HOME</div></pre></td></tr></table></figure>
<h4 id="编辑slaves文件"><a href="#编辑slaves文件" class="headerlink" title="编辑slaves文件"></a>编辑slaves文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cp slaves.template slaves</div><div class="line">vi slaves</div></pre></td></tr></table></figure>
<p>添加所有主机的hostname(注，需在hosts文件中添加对方的hostname和ip的关系)<br> 把master上Spark相关配置复制到集群从节点中，注意，三台机器spark所在目录必须一致，因为master会登陆到worker上执行命令，master认为worker的spark路径与自己一样</p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /$SPARK_HOME/sbin</div><div class="line">./start-all.sh</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>http://yoursite.com/2017/02/02/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    </entry>
    
  
  
</search>
